<!-- build time:Sat Feb 29 2020 06:23:49 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.0.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1"><link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"7.0.1",sidebar:{position:"right",display:"post",offset:12,onmobile:!1,dimmer:!1},back2top:!0,back2top_sidebar:!1,fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="DescriptionThere is an apple tree outside of kaka’s house. Every autumn, a lot of apples will grow in the tree. Kaka likes apple very much, so he has been carefully nurturing the big apple tree.The tr"><meta name="keywords" content="Java,ACM,做不出来的题目"><meta property="og:type" content="article"><meta property="og:title" content="苹果树下摘苹果——ACM选拔题目训练（Easy难度）"><meta property="og:url" content="https://AnchengXu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/index.html"><meta property="og:site_name" content="许醒言 AnchengXu"><meta property="og:description" content="DescriptionThere is an apple tree outside of kaka’s house. Every autumn, a lot of apples will grow in the tree. Kaka likes apple very much, so he has been carefully nurturing the big apple tree.The tr"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://anchengxu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/appleTree.gif"><meta property="og:image" content="https://anchengxu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/tree.jpg"><meta property="og:image" content="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=9c2a14928e1001e94a3c130d880f7b06/9d82d158ccbf6c81bfec7193bf3eb13532fa40f5.jpg"><meta property="og:updated_time" content="2020-02-28T19:59:49.402Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="苹果树下摘苹果——ACM选拔题目训练（Easy难度）"><meta name="twitter:description" content="DescriptionThere is an apple tree outside of kaka’s house. Every autumn, a lot of apples will grow in the tree. Kaka likes apple very much, so he has been carefully nurturing the big apple tree.The tr"><meta name="twitter:image" content="https://anchengxu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/appleTree.gif"><link rel="canonical" href="https://AnchengXu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>苹果树下摘苹果——ACM选拔题目训练（Easy难度） | 许醒言 AnchengXu</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-right page-post-detail"><div class="headband"></div><a href="https://github.com/AnchengXu" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">许醒言 AnchengXu</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="algolia-popup popup search-popup"><div class="algolia-search"><div class="algolia-search-input-icon"><i class="fa fa-search"></i></div><div class="algolia-search-input" id="algolia-search-input"></div></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://AnchengXu.github.io/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="许醒言"><meta itemprop="description" content="此地无砂，红土为贵"><meta itemprop="image" content="/images/headImage3.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="许醒言 AnchengXu"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">苹果树下摘苹果——ACM选拔题目训练（Easy难度）</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-16 15:19:04" itemprop="dateCreated datePublished" datetime="2019-03-16T15:19:04+08:00">2019-03-16</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-02-29 03:59:49" itemprop="dateModified" datetime="2020-02-29T03:59:49+08:00">2020-02-29</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/" itemprop="commentCount"></span> </a></span><span id="/2019/03/16/苹果树下摘苹果——ACM选拔题目训练（Easy难度）/" class="leancloud_visitors" data-flag-title="苹果树下摘苹果——ACM选拔题目训练（Easy难度）"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>There is an apple tree outside of kaka’s house. Every autumn, a lot of apples will grow in the tree. Kaka likes apple very much, so he has been carefully nurturing the big apple tree.</p><p>The tree has <em>N</em> forks which are connected by branches. Kaka numbers the forks by 1 to <em>N</em> and the root is always numbered by 1. Apples will grow on the forks and two apple won’t grow on the same fork. kaka wants to know how many apples are there in a sub-tree, for his study of the produce ability of the apple tree.</p><p>The trouble is that a new apple may grow on an empty fork some time and kaka may pick an apple from the tree for his dessert. Can you help kaka?</p><h2 id="中文描述"><a href="#中文描述" class="headerlink" title="中文描述"></a>中文描述</h2><p>卡卡家外面有一棵苹果树。每年秋天，树上都会长出许多苹果。卡卡非常喜欢苹果，所以他一直在精心培育大苹果树。</p><p>这棵树有N个叉子，它们通过树枝相连。卡卡用1到n给叉编号，而根总是用1编号。苹果会在叉子上生长，两个苹果不会在同一个叉子上生长。为了研究苹果树的生产能力，卡卡想知道一个子树里有多少苹果。</p><p>问题是，一个新苹果可能会在一个空叉子上生长一段时间，卡卡可能会从树上摘一个苹果作为甜点。你能帮卡卡吗？</p><a id="more"></a><p><img src="appleTree.gif"></p><h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The first line contains an integer <em>N</em> (<em>N</em> ≤ 100,000) , which is the number of the forks in the tree.<br>The following <em>N</em> - 1 lines each contain two integers <em>u</em> and <em>v</em>, which means fork <em>u</em> and fork <em>v</em> are connected by a branch.<br>The next line contains an integer <em>M</em> (<em>M</em> ≤ 100,000).<br>The following <em>M</em> lines each contain a message which is either<br>“<strong>C x</strong>“ which means the existence of the apple on fork <em>x</em> has been changed. i.e. if there is an apple on the fork, then Kaka pick it; otherwise a new apple has grown on the empty fork.<br>or<br>“<strong>Q x</strong>“ which means an inquiry for the number of apples in the sub-tree above the fork <em>x</em>, including the apple (if exists) on the fork x<br>Note the tree is full of apples at the beginning</p><p>第一行包含一个整数n（n≤100000），它是树中的叉数。下面的n-1行分别包含两个整数u和v，这意味着fork u和fork v通过分支连接。</p><p>下一行包含整数m（m≤100000）。</p><p>以下M行中的每一行都包含一条消息，“C x”表示叉x上苹果的存在已经改变。也就是说，如果叉子上有一个苹果，那么卡卡就会摘下来；否则，一个新的苹果就会长在空叉子上。或“Q x”表示对叉X上方子树中苹果数量的查询，包括叉X上的苹果（如果存在）。</p><p>注意：这棵树一开始就满是苹果</p><h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For every inquiry, output the correspond answer per line.</p><p>Sample Input</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">3</span><br><span class="line">Q 1</span><br><span class="line">C 2</span><br><span class="line">Q 1</span><br></pre></td></tr></table></figure><p>Sample Output</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h2 id="自序"><a href="#自序" class="headerlink" title="自序"></a>自序</h2><p>这里一开始我就意识到要用到树的数据结构来遍历和增加节点，但是我开始以为是二叉树，随后在老师的提醒下发现并不是二叉树，而是随意树。这就有点尴尬，二叉树我都忘得差不多了，你还要给我个树，我TM怎么记得是怎么表示的啊？</p><p>我甚至开始还以为要用二维数组来表示树，最后发现是我太天真。当然能够将树忘得这么干净，我也确实是太自傲了。</p><p>我总以为我记得那些图、树、链表等等东西，总感觉随便一个人来面试我我都没问题，结果一道小题目就让我跪了。数据结构的基础，我真的没我想象中的那么好，甚至是曾经难以相信的差。</p><p>在考场上我不断不断地问我自己，树怎么表示？用数组怎么表示？树的节点怎么定义？树的遍历怎么搞？最简单的前序遍历的递归方式怎么写？怎么添加节点和修改节点？</p><p>最后我不得不承认，我确实忘得一干二净，在考场上开始垂头丧气，挣扎了那么久，最后12点整了，还是没做出来。</p><p>如今趁着余温未散，搜到了这个题目的原题，再复习一遍数据结构的树。</p><h2 id="快速复习树的百科废话"><a href="#快速复习树的百科废话" class="headerlink" title="快速复习树的百科废话"></a>快速复习树的百科废话</h2><p><img src="tree.jpg"></p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>树状图是一种数据结构，它是由n（n&gt;=1）个有限结点组成一个具有层次关系的集合。把它叫做“树”是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。它具有以下的特点：</p><ul><li><p>每个结点有零个或多个子结点；</p></li><li><p>没有父结点的结点称为根结点；</p></li><li><p>每一个非根结点有且只有一个父结点；</p></li><li><p>除了根结点外，每个子结点可以分为多个不相交的子树；</p></li></ul><p>树（tree）是包含n（n&gt;=0）个结点的有穷集，其中：</p><ul><li><p>每个元素称为结点（node）；</p></li><li><p>有一个特定的结点被称为根结点或树根（root）。</p></li><li><p>除根结点之外的其余数据元素被分为m（m≥0）个互不相交的集合T1，T2，……Tm-1，其中每一个集合Ti（1&lt;=i&lt;=m）本身也是一棵树，被称作原树的子树（subtree）。</p></li></ul><p>我们可以形式地给出树的递归定义如下:</p><ul><li>单个结点是一棵树，树根就是该结点本身。</li><li>设T1,T2,..,Tk是树，它们的根结点分别为n1,n2,..,nk。用一个新结点n作为n1,n2,..,nk的父亲，则得到一棵新树，结点n就是新树的根。我们称n1,n2,..,nk为一组兄弟结点，它们都是结点n的子结点。我们还称T1,T2,..,Tk为结点n的子树。</li></ul><p>空集合也是树，称为空树。空树中没有结点。</p><h3 id="相关术语"><a href="#相关术语" class="headerlink" title="相关术语"></a>相关术语</h3><ul><li>节点的度：一个节点含有的子树的个数称为该节点的度；</li><li>叶节点或终端节点：度为0的节点称为叶节点；</li><li>非终端节点或分支节点：度不为0的节点；</li><li>双亲节点或父节点：若一个节点含有子节点，则这个节点称为其子节点的父节点；</li><li>孩子节点或子节点：一个节点含有的子树的根节点称为该节点的子节点；</li><li>兄弟节点：具有相同父节点的节点互称为兄弟节点；</li><li>树的度：一棵树中，最大的节点的度称为树的度；</li><li>节点的层次：从根开始定义起，根为第1层，根的子节点为第2层，以此类推；</li><li>树的高度或深度：树中节点的最大层次；</li><li>堂兄弟节点：双亲在同一层的节点互为堂兄弟；</li><li>节点的祖先：从根到该节点所经分支上的所有节点；</li><li>子孙：以某节点为根的子树中任一节点都称为该节点的子孙。</li><li>森林：由m（m&gt;=0）棵互不相交的树的集合称为森林；</li></ul><h3 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h3><ul><li>无序树：树中任意节点的子结点之间没有顺序关系，这种树称为无序树,也称为自由树;</li><li>有序树：树中任意节点的子结点之间有顺序关系，这种树称为有序树；</li><li>二叉树：每个节点最多含有两个子树的树称为二叉树；</li><li>完全二叉树</li><li>满二叉树</li><li>霍夫曼树：带权路径最短的二叉树称为哈夫曼树或最优二叉树；</li></ul><h3 id="深度"><a href="#深度" class="headerlink" title="深度"></a>深度</h3><p>定义一棵树的根结点层次为1，其他节点的层次是其父结点层次加1。</p><p>一棵树中所有结点的层次的最大值称为这棵树的深度。</p><h3 id="符号表达法"><a href="#符号表达法" class="headerlink" title="符号表达法"></a>符号表达法</h3><p>用括号先将根结点放入一对圆括号中，然后把它的子树由左至右的顺序放入括号中，而对子树也采用同样的方法处理；同层子树与它的根结点用圆括号括起来，同层子树之间用逗号隔开，最后用闭括号括起来。如前文树形表示法可以表示为：（1（2（5（9，10）），3（6，7），4（8）））</p><h3 id="遍历表达法"><a href="#遍历表达法" class="headerlink" title="遍历表达法"></a>遍历表达法</h3><p><img src="https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=9c2a14928e1001e94a3c130d880f7b06/9d82d158ccbf6c81bfec7193bf3eb13532fa40f5.jpg" alt="img"></p><p>遍历表达法有3种方法：</p><ul><li>先序遍历</li><li>中序遍历</li><li>后序遍历</li></ul><p>例如右图：</p><ul><li>其先序遍历为ABDECF</li><li>其中序遍历为DBEAFC</li><li>其后序遍历为DEBFCA</li></ul><h2 id="自己实现"><a href="#自己实现" class="headerlink" title="自己实现"></a>自己实现</h2><p>我在经过一个下午的煎熬，从下午一点多到如今，中间吃个饭睡个觉，然后便被这道题纠缠住。</p><p>我其实不得不承认了，我过往没学过多叉树的实现，不知道用链表实现多叉树的原理所在。而只是一厢情愿的认为二叉树和树差不了多少，其实也确实差不了多少，但问题在于我总静不下心去看那些实现源码，不愿意去思考Node节点代码中为什么要设置一个ParentId和SelfId，不知道LinkList应该写在Node节点代码中，还是写在NodeTree的代码中，我不知道在用链表实现树的过程中，应该分3层——一层Node、一层NodeTree、最上面一层NodeTreeLink，还是分2层——直接一层Node、最上面一层NodeTreeLink</p><p>无数问题在困扰着我，而我还天真的以为数据结构学的多好，以为多叉树和二叉树差不多，以为Java实现会更容易，以为我能手动实现一遍树，以为我自己能直接推导。。</p><p>被打脸的好狠</p><h2 id="只能留下这个坑，日后再来弄吧（2019-3-17）"><a href="#只能留下这个坑，日后再来弄吧（2019-3-17）" class="headerlink" title="只能留下这个坑，日后再来弄吧（2019.3.17）"></a>只能留下这个坑，日后再来弄吧（2019.3.17）</h2><h2 id="好了，我回来了（2019-3-19）"><a href="#好了，我回来了（2019-3-19）" class="headerlink" title="好了，我回来了（2019.3.19）"></a>好了，我回来了（2019.3.19）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppleTest2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> branchNum = input.nextInt();</span><br><span class="line"></span><br><span class="line">		AppleNodeTree tree = <span class="keyword">new</span> AppleNodeTree();</span><br><span class="line">		TreeNode root = <span class="keyword">new</span> TreeNode();</span><br><span class="line">		tree.insert(root, root, <span class="number">0</span>);<span class="comment">//这里我遇到了一个问题，那就是我要怎么将第一个节点插入到tree里面呢？此时tree是空的，我也找不到父节点，怎么插入？</span></span><br><span class="line">		<span class="comment">//答案就是第一个节点本身就是树，所以本质上插入第一个节点，就是自己插入自己。但是有一个问题，因为第一个节点本身已经是树了，所以后面使用insert方法的时候，tree会默认缺失首节点的个数</span></span><br><span class="line">		<span class="comment">//即如果一共有5个节点，那么display方法只能显示4个节点，原因一言难尽，主要还是归因于我对树的结构的不理解吧</span></span><br><span class="line">		<span class="comment">//我的解决方法，就是在display方法中做一个判断，让第一个节点也能够显示</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; branchNum - <span class="number">1</span>; x++) &#123;<span class="comment">// 为什么要减一？因为如果要求输入5根树枝，那么你只能输入4根，原因是，第一根已经确定为1了。无法修改</span></span><br><span class="line">			<span class="keyword">int</span> parentId = input.nextInt();</span><br><span class="line">			<span class="keyword">int</span> myselfId = input.nextInt();</span><br><span class="line">			TreeNode insertNode = <span class="keyword">new</span> TreeNode(myselfId, parentId);</span><br><span class="line">			tree.insert(root, insertNode, parentId);</span><br><span class="line">		&#125;</span><br><span class="line">		tree.display(root, <span class="number">0</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 正式开始</span></span><br><span class="line">		System.out.println();</span><br><span class="line">		<span class="keyword">int</span> operationTime = input.nextInt();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; operationTime; x++) &#123;</span><br><span class="line">			String operation = input.next();</span><br><span class="line">			<span class="keyword">char</span> operationType = operation.charAt(<span class="number">0</span>);</span><br><span class="line">			<span class="keyword">int</span> operationLocation = input.nextInt();</span><br><span class="line">			<span class="keyword">if</span> (operationType == <span class="string">'Q'</span>) &#123;</span><br><span class="line">				tree.countApple(operationLocation, root, <span class="keyword">false</span>);</span><br><span class="line">				System.out.println(tree.countAppleNumber);</span><br><span class="line">				tree.countAppleNumber = <span class="number">0</span>;<span class="comment">//在每次查询之后，必须重新设置为0，不然这个值会累积，导致最终结果出错</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				tree.editApple(operationLocation, root);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> myselfId;<span class="comment">//自身的标识ID，对于别人来说，这个自身id将成为别人的父id标识</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> parentId;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> hasApple;</span><br><span class="line">	<span class="keyword">private</span> LinkedList&lt;TreeNode&gt; list;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		myselfId = <span class="number">1</span>;</span><br><span class="line">		parentId = <span class="number">0</span>;</span><br><span class="line">		hasApple = <span class="keyword">true</span>;</span><br><span class="line">		list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> myselfId, <span class="keyword">int</span> parentId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.myselfId = myselfId;</span><br><span class="line">		<span class="keyword">this</span>.parentId = parentId;</span><br><span class="line">		hasApple = <span class="keyword">true</span>;</span><br><span class="line">		list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHasApple</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> hasApple;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHasApple</span><span class="params">(<span class="keyword">boolean</span> hasApple)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.hasApple = hasApple;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMyselfId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> myselfId;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMyselfId</span><span class="params">(<span class="keyword">int</span> myselfId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.myselfId = myselfId;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getParentId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> parentId;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParentId</span><span class="params">(<span class="keyword">int</span> parentId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.parentId = parentId;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> LinkedList&lt;TreeNode&gt; <span class="title">getList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(LinkedList&lt;TreeNode&gt; list)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.list = list;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppleNodeTree</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> countAppleNumber = <span class="number">0</span>;<span class="comment">//这个共享变量是为了计算苹果数，但是需要记住，每次查询之后一定要重新归零，不然会累积的</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">AppleNodeTree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		TreeNode root = <span class="keyword">new</span> TreeNode();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">(TreeNode currentRoot, <span class="keyword">int</span> deepth)</span> </span>&#123;<span class="comment">//这里的本质，其实就是不断的重新定义当前根节点，从而进行遍历.如此说来，这个深度除了显示那几个横杠--,也没有其他用处了</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (currentRoot.getMyselfId() == <span class="number">1</span>) &#123;</span><br><span class="line">			System.out.print(currentRoot.getMyselfId() + <span class="string">"  "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		LinkedList&lt;TreeNode&gt; childList = currentRoot.getList();</span><br><span class="line">		<span class="keyword">if</span> (childList == <span class="keyword">null</span> || childList.isEmpty()) &#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; childList.size(); x++) &#123;</span><br><span class="line">			System.out.print(getLevelStar(deepth) + childList.get(x).getMyselfId() + <span class="string">"  "</span>);</span><br><span class="line">			display(childList.get(x), deepth + <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(TreeNode currentRoot, TreeNode insertNewNode, <span class="keyword">int</span> insertNodeParentId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (insertNodeParentId == currentRoot.getMyselfId()) &#123;</span><br><span class="line">			currentRoot.getList().add(insertNewNode);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		LinkedList&lt;TreeNode&gt; childList = currentRoot.getList();</span><br><span class="line">		<span class="keyword">if</span> (childList.isEmpty() || childList == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; childList.size(); x++) &#123;</span><br><span class="line">			insert(childList.get(x), insertNewNode, insertNodeParentId);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">countApple</span><span class="params">(<span class="keyword">int</span> currentOperationLocation, TreeNode currentRootFindValue, <span class="keyword">boolean</span> couldNotFindNodeFlag)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//这里为什么要有一个couldNotFindNodeFlag的标识变量？原因很简单，这里计算苹果要分两步：</span></span><br><span class="line">		<span class="comment">//1.先找到那个目标子节点，而且不同于普通的递归遍历，这里如果已经找到子节点了，就不应该再去递归遍历其他的子节点了，而应该只递归遍历这个子节点的下属链表</span></span><br><span class="line">		<span class="comment">//2.所以我们需要一个标识变量，当未找到那个目标子节点的时候，我们可以去随便遍历整个多叉树，但是一旦找到了那个目标子节点了，就修改标识变量，从而让程序只执行一部分代码了</span></span><br><span class="line">		<span class="keyword">if</span> (currentOperationLocation == currentRootFindValue.getMyselfId() || couldNotFindNodeFlag) &#123;</span><br><span class="line">			couldNotFindNodeFlag = <span class="keyword">true</span>;</span><br><span class="line">			<span class="keyword">if</span> (currentRootFindValue.isHasApple()) &#123;</span><br><span class="line">				countAppleNumber++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; currentRootFindValue.getList().size(); x++) &#123;</span><br><span class="line">				countApple(currentOperationLocation, currentRootFindValue.getList().get(x), couldNotFindNodeFlag);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">			LinkedList&lt;TreeNode&gt; childList = currentRootFindValue.getList();</span><br><span class="line">			<span class="keyword">if</span> (childList == <span class="keyword">null</span> || childList.isEmpty()) &#123;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; childList.size(); x++) &#123;</span><br><span class="line">				countApple(currentOperationLocation, childList.get(x), couldNotFindNodeFlag);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">editApple</span><span class="params">(<span class="keyword">int</span> currentOperationLocation, TreeNode currentRootFindValue)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//这里也同理，未找到目标子节点之前，随便遍历，但是一旦找到了，只需一步，然后直接结束。</span></span><br><span class="line">		<span class="keyword">if</span>(currentRootFindValue.getMyselfId() == currentOperationLocation)&#123;</span><br><span class="line">			<span class="keyword">if</span>(currentRootFindValue.isHasApple())&#123;</span><br><span class="line">				currentRootFindValue.setHasApple(<span class="keyword">false</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				currentRootFindValue.setHasApple(<span class="keyword">true</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		LinkedList&lt;TreeNode&gt; childList = currentRootFindValue.getList();</span><br><span class="line">		<span class="keyword">if</span>(childList == <span class="keyword">null</span> || childList.isEmpty())&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; childList.size(); x++)&#123;</span><br><span class="line">			editApple(currentOperationLocation, childList.get(x));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getLevelStar</span><span class="params">(<span class="keyword">int</span> deepth)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//打印level次级符号而已</span></span><br><span class="line">		deepth += <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">char</span>[] level = <span class="keyword">new</span> <span class="keyword">char</span>[deepth];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; level.length; x++) &#123;</span><br><span class="line">			level[x] = <span class="string">'-'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> String(level);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于java实现多叉树的操作，非常感谢<a href="https://blog.csdn.net/sss1342746626/article/details/78868026" target="_blank" rel="noopener">https://blog.csdn.net/sss1342746626/article/details/78868026</a>这个博客，让我豁然开朗，写的通俗易懂</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a> <a href="/tags/ACM/" rel="tag"><i class="fa fa-tag"></i> ACM</a> <a href="/tags/做不出来的题目/" rel="tag"><i class="fa fa-tag"></i> 做不出来的题目</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/03/15/2018年Java工作经验点滴/" rel="next" title="2018年Java工作经验点滴"><i class="fa fa-chevron-left"></i> 2018年Java工作经验点滴</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/03/16/我从3次考研失败中明白了什么-Cover By 木兰/" rel="prev" title="我从3次考研失败中明白了什么<Cover By 木兰>">我从3次考研失败中明白了什么<cover by 木兰><i class="fa fa-chevron-right"></i></cover></a></div></div></footer></div></article></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><div class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/headImage3.jpg" alt="许醒言"><p class="site-author-name" itemprop="name">许醒言</p><div class="site-description motion-element" itemprop="description">此地无砂，红土为贵</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">21</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div><div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Description"><span class="nav-number">1.</span> <span class="nav-text">Description</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#中文描述"><span class="nav-number">2.</span> <span class="nav-text">中文描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Input"><span class="nav-number">3.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Output"><span class="nav-number">4.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自序"><span class="nav-number">5.</span> <span class="nav-text">自序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#快速复习树的百科废话"><span class="nav-number">6.</span> <span class="nav-text">快速复习树的百科废话</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义"><span class="nav-number">6.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#相关术语"><span class="nav-number">6.2.</span> <span class="nav-text">相关术语</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#种类"><span class="nav-number">6.3.</span> <span class="nav-text">种类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#深度"><span class="nav-number">6.4.</span> <span class="nav-text">深度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#符号表达法"><span class="nav-number">6.5.</span> <span class="nav-text">符号表达法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#遍历表达法"><span class="nav-number">6.6.</span> <span class="nav-text">遍历表达法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自己实现"><span class="nav-number">7.</span> <span class="nav-text">自己实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#只能留下这个坑，日后再来弄吧（2019-3-17）"><span class="nav-number">8.</span> <span class="nav-text">只能留下这个坑，日后再来弄吧（2019.3.17）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#好了，我回来了（2019-3-19）"><span class="nav-number">9.</span> <span class="nav-text">好了，我回来了（2019.3.19）</span></a></li></ol></div></div></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">许醒言</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/src/utils.js?v=7.0.1"></script><script src="/js/src/motion.js?v=7.0.1"></script><script src="/js/src/schemes/muse.js?v=7.0.1"></script><script src="/js/src/scrollspy.js?v=7.0.1"></script><script src="/js/src/post-details.js?v=7.0.1"></script><script src="/js/src/next-boot.js?v=7.0.1"></script><script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>var GUEST=["nick","mail","link"],guest="nick,mail,link";guest=guest.split(",").filter(function(e){return GUEST.indexOf(e)>-1}),new Valine({el:"#comments",verify:!1,notify:!1,appId:"XpiIE59zPPiaEkpbq1mVlj8i-gzGzoHsz",appKey:"O3R3rsts4JkbxJUAatzwvO2H",placeholder:"来呀，快活鸭",avatar:"mm",meta:guest,pageSize:"10",visitor:!1,lang:"zh-cn"});var infoEle=document.querySelector("#comments .info");infoEle&&infoEle.childNodes&&infoEle.childNodes.length>0&&infoEle.childNodes.forEach(function(e){e.parentNode.removeChild(e)})</script><script>function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var e=$("#local-search-input");e.attr("autocapitalize","none"),e.attr("autocorrect","off"),e.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(e){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(e,t,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:e,dataType:isXml?"xml":"json",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():e,r=document.getElementById(t),s=document.getElementById(o),a=function(){var e=r.value.trim().toLowerCase(),t=e.split(/[\s\-]+/);t.length>1&&t.push(e);var o=[];if(e.length>0&&n.forEach(function(n){function r(t,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===e&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(e,t){var o="",n=t.start;return t.hits.forEach(function(t){o+=e.substring(n,t.position);var r=t.position+t.length;o+='<b class="search-keyword">'+e.substring(t.position,r)+"</b>",n=r}),o+=e.substring(n,t.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url).replace(/\/{2,}/g,"/"),d=[],g=[];if(""!=l&&(t.forEach(function(e){function t(e,t,o){var n=e.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(t=t.toLowerCase(),e=e.toLowerCase());(s=t.indexOf(e,r))>-1;)a.push({position:s,word:e}),r=s+n;return a}d=d.concat(t(e,h,!1)),g=g.concat(t(e,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(e){e.sort(function(e,t){return t.position!==e.position?t.position-e.position:e.word.length-t.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hits.length!==t.hits.length?t.hits.length-e.hits.length:e.start-t.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(e){b+="<a href='"+f+'\'><p class="search-result">'+s(p,e)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===t.length&&""===t[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x"></i></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>';else{o.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hitCount!==t.hitCount?t.hitCount-e.hitCount:t.id-e.id});var a='<ul class="search-result-list">';o.forEach(function(e){a+=e.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(e){e.stopPropagation()}),$(document).on("keyup",function(e){var t=27===e.which&&$(".search-popup").is(":visible");t&&onPopupClose()})</script><link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css"><script src="/lib/algolia-instant-search/instantsearch.min.js"></script><script src="/js/src/algolia-search.js?v=7.0.1"></script><script>function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': 1 } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + 1);
              })
            
              .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
              })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1 }))
                .done(function() {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function() {
                  console.log('Failed to create');
                });
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log('LeanCloud Counter Error: ' + responseJSON.code + ' ' + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'XpiIE59zPPiaEkpbq1mVlj8i-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'XpiIE59zPPiaEkpbq1mVlj8i-gzGzoHsz',
                'X-LC-Key': 'O3R3rsts4JkbxJUAatzwvO2H',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            addCount(Counter);
          
        });
    });</script><script type="text/javascript" src="/js/src/love.js"></script></body></html><!-- rebuild by neat -->